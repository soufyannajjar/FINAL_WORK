<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>
        Emotify - Video Statistics
    </title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <link rel="stylesheet" href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" />

    <link rel="stylesheet" href="/assets/css/style.css" />
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>


</head>

<body class="leading-normal tracking-normal gradient pt-24 h-screen">
    <%- include('appHeader') %>

    <div class="container mx-auto">
        <div class="flex flex-nowrap justify-center my-12">
            <div class="w-full justify-center flex flex-wrap md:flex-nowrap  mb-24">
                <div
                    class="w-full md:mr-2 justify-center bg-white p-5 mb-8 md:mb-0 rounded-lg w-4/4 xl:w-1/4 lg:w-3/12 ">
                    <a href="/company/dashboard" class="blue-color">
                        < Return to dashboard</a> <h1 class="pt-4 text-3xl"><%= video.title %></h1>
                            <h1 class="mt-4">Audience</h1>
                            <h4 class="text-2xl"><%= video.audienceMinAge %> -
                                <%= video.audienceMaxAge %> Year</h4>

                            <h1 class="mt-4">Description</h1>
                            <p class="flex-1 font-light text-gray-700 line-clamp-3">
                                <%= video.description %></p>
                            <h1 class="mt-4">Total Views</h1>
                            <h4 class="text-2xl"><%= reviewsArray.length %></h4>
                            <video class="mt-4 flex w-full z-50 align-middle" style="border-radius: 10px;" controls>
                                <source class="justify-center" src="<%= video.videoLink %>">

                            </video>


                            <hr class="my-4">
                            <% if(videoIsReviewed) { %>

                            <h1 class="py-4 text-2xl text-center">Average of Emotions</h1>
                            <div class="gap-4 grid mb-8 grid-cols-1">

                                <div class="test text-center justify-center">

                                    <div class="flex"> <img class="justify-center"
                                            src="/assets/images/smileys/happy1.jfif" style="width: 25px;height: 25px;">
                                        <h4 class="px-2" id="happy">Happy <%= statisticObject.happy +"%"%></h4>
                                    </div>



                                    <div class="progress border-2 rounded-full">
                                        <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                            role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                                            id="happy_progress" style="width: <%= statisticObject.happy +"%;"%>">
                                            <span class="sr-only"></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="test ">
                                    <div class="flex"> <img src="/assets/images/smileys/sad.jfif"
                                            style="width: 25px;height: 25px;">
                                        <h4 class="px-2" id="sad">Sad <%= statisticObject.sad +"%"%></h4>
                                    </div>
                                    <div class="progress border-2 rounded-full">
                                        <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                            role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                                            id="sad_progress" style="width: <%= statisticObject.sad +"%;"%>">
                                            <span class="sr-only"></span>
                                        </div>
                                    </div>
                                </div>


                                <div class="test ">
                                    <div class="flex"> <img src="/assets/images/smileys/nuetral.jfif"
                                            style="width: 25px;height: 25px;">
                                        <h4 class="px-2" id="neutral">Neutral <%= statisticObject.neutral +"%"%>
                                        </h4>
                                    </div>
                                    <div class="progress border-2 rounded-full">
                                        <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                            role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                                            id="neutral_progress" style="width: <%= statisticObject.neutral +"%;"%>">
                                            <span class="sr-only"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="test ">
                                    <div class="flex"> <img src="/assets/images/smileys/dusgusted.jfif"
                                            style="height: 25px;width: 25px;">
                                        <h4 class="px-2" id="disgusted">Disgusted
                                            <%= statisticObject.disgusted +"%"%>
                                        </h4>
                                    </div>
                                    <div class="progress border-2 rounded-full">
                                        <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                            role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                                            id="disgusted_progress"
                                            style="width: <%= statisticObject.disgusted +"%;"%>">
                                            <span class="sr-only"></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="test ">
                                    <div class="flex"> <img src="/assets/images/smileys/angry.jfif"
                                            style="width: 25px;height: 25px;">
                                        <h4 class="px-2" id="angry">Angry <%= statisticObject.angry +"%"%></h4>
                                    </div>
                                    <div class="progress border-2 rounded-full">
                                        <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                            role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                                            id="angry_progress" style="width: <%= statisticObject.angry +"%;"%>">

                                        </div>
                                    </div>
                                </div>

                                <div class="test ">
                                    <div class="flex"> <img src="/assets/images/smileys/surprised.jfif"
                                            style="width: 25px;height: 25px;">
                                        <h4 class="px-2" id="surprised">Surprised
                                            <%= statisticObject.surprised +"%"%>
                                        </h4>
                                    </div>
                                    <div class="progress border-2 rounded-full">
                                        <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                            role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                                            id="surprised_progress"
                                            style="width: <%= statisticObject.surprised +"%;"%>">
                                            <span class="sr-only"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h1 class="py-4 text-2xl text-center">Average of Answers</h1>
                            <div>

                                <div>
                                    <p>2. Were you triggered to perform an action?</p>
                                    <h4 class="text-2xl"><%= statisticObject.Q_triggered +" /5"%></h4>
                                </div>



                                <div class="progress border-2 rounded-full">
                                    <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                        role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                                        id="happy_progress" style="width: <%= statisticObject.Q_triggered *20 +"%;"%>">
                                        <span class="sr-only"></span>
                                    </div>
                                </div>
                            </div>
                            <% } %>
                </div>
                <div class="justify-center bg-white p-5 rounded-lg xl:w-3/4 lg:w-9/12 ">
                    <h1 class="pt-4 text-2xl text-center">ALL REVIEWS FOR THIS VIDEO</h1>
                    <div class="gap-4 grid my-8 ">
                        <% if(!videoIsReviewed) { %>
                        <div class="w-full justify-center text-center">
                            <p class="text-center text-red-400 text-2xl">This video has no reviews. </p>
                            <p>No viewer has watched your video. This may take some time. Check your subscription.</p>
                            <lottie-player src="https://assets5.lottiefiles.com/packages/lf20_ao823ilv.json"
                                background="transparent" speed="1" style="width: 300px; height: 300px; margin: 0 auto;"
                                loop autoplay>
                            </lottie-player>
                        </div>
                        <% } %>
                        <% for (let i = 0 ;  i < reviewsArray.length ; i++) { %>

                        <div class="w-full rounded-md shadow-md border-2 shadow-gray-200 flex">
                            <div class="p-4 flex flex-col w-full">


                                <div id="emotions">
                                    <h1 class="text-2xl">Emotions</h1>
                                </div>
                                <div class="gap-4 grid mb-8 grid-cols-2 select-none">

                                    <div class="test text-center justify-center">

                                        <div class="flex"> <img class="justify-center"
                                                src="/assets/images/smileys/happy1.jfif"
                                                style="width: 25px;height: 25px;">
                                            <h4 class="px-2" id="happy">Happy <%= reviewsArray[i].happy +"%"%></h4>
                                        </div>



                                        <div class="progress border-2 rounded-full">
                                            <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                                role="progressbar" aria-valuenow="70" aria-valuemin="0"
                                                aria-valuemax="100" id="happy_progress"
                                                style="width: <%= reviewsArray[i].happy +"%;"%>">
                                                <span class="sr-only"></span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="test ">
                                        <div class="flex"> <img src="/assets/images/smileys/sad.jfif"
                                                style="width: 25px;height: 25px;">
                                            <h4 class="px-2" id="sad">Sad <%= reviewsArray[i].sad +"%"%></h4>
                                        </div>
                                        <div class="progress border-2 rounded-full">
                                            <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                                role="progressbar" aria-valuenow="70" aria-valuemin="0"
                                                aria-valuemax="100" id="sad_progress"
                                                style="width: <%= reviewsArray[i].sad +"%;"%>">
                                                <span class="sr-only"></span>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="test ">
                                        <div class="flex"> <img src="/assets/images/smileys/nuetral.jfif"
                                                style="width: 25px;height: 25px;">
                                            <h4 class="px-2" id="neutral">Neutral <%= reviewsArray[i].neutral +"%"%>
                                            </h4>
                                        </div>
                                        <div class="progress border-2 rounded-full">
                                            <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                                role="progressbar" aria-valuenow="70" aria-valuemin="0"
                                                aria-valuemax="100" id="neutral_progress"
                                                style="width: <%= reviewsArray[i].neutral +"%;"%>">
                                                <span class="sr-only"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="test ">
                                        <div class="flex"> <img src="/assets/images/smileys/dusgusted.jfif"
                                                style="height: 25px;width: 25px;">
                                            <h4 class="px-2" id="disgusted">Disgusted
                                                <%= reviewsArray[i].disgusted +"%"%>
                                            </h4>
                                        </div>
                                        <div class="progress border-2 rounded-full">
                                            <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                                role="progressbar" aria-valuenow="70" aria-valuemin="0"
                                                aria-valuemax="100" id="disgusted_progress"
                                                style="width: <%= reviewsArray[i].disgusted +"%;"%>">
                                                <span class="sr-only"></span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="test ">
                                        <div class="flex"> <img src="/assets/images/smileys/angry.jfif"
                                                style="width: 25px;height: 25px;">
                                            <h4 class="px-2" id="angry">Angry <%= reviewsArray[i].angry +"%"%></h4>
                                        </div>
                                        <div class="progress border-2 rounded-full">
                                            <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                                role="progressbar" aria-valuenow="70" aria-valuemin="0"
                                                aria-valuemax="100" id="angry_progress"
                                                style="width: <%= reviewsArray[i].angry +"%;"%>">

                                            </div>
                                        </div>
                                    </div>

                                    <div class="test ">
                                        <div class="flex"> <img src="/assets/images/smileys/surprised.jfif"
                                                style="width: 25px;height: 25px;">
                                            <h4 class="px-2" id="surprised">Surprised
                                                <%= reviewsArray[i].surprised +"%"%>
                                            </h4>
                                        </div>
                                        <div class="progress border-2 rounded-full">
                                            <div class="progress-bar gradient border-full rounded-full h-2 w-0"
                                                role="progressbar" aria-valuenow="70" aria-valuemin="0"
                                                aria-valuemax="100" id="surprised_progress"
                                                style="width: <%= reviewsArray[i].surprised +"%;"%>">
                                                <span class="sr-only"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div id="questions" class="mt-4">
                                    <h1 class="text-2xl">Questions</h1>
                                    <p class="text-grey-darkest font-thin ">
                                        1. What did you think of this commercial in general?
                                    </p>
                                    <li class="pb-2 mb-2">
                                        <%= reviewsArray[i].Q_general %>
                                    </li>
                                    <p class="text-grey-darkest font-thin ">
                                        2. Were you triggered to perform an action?
                                    </p>
                                    <li class="pb-2 mb-2">
                                        <%= reviewsArray[i].Q_triggered +"/5" %>
                                    </li>
                                    <p class="text-grey-darkest font-thin ">
                                        3. Do you think this commercial will appeal to the target group? Why or why
                                        not?
                                    </p>
                                    <li class="pb-2 mb-2">
                                        <%= reviewsArray[i].Q_appeal %>
                                    </li>
                                </div>
                                <br>

                            </div>
                        </div>
                        <hr class="my-4"><% } %>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>

</html>